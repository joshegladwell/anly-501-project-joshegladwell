getwd()
library(educationdata)
seq(1986, 2020)
# Create list of all the years we can access school directories for
ccd_years <- seq(1986, 2020)
as.character(ccd_years)
# Create list of all the years we can access school directories for
ccd_years <- as.character(seq(1986, 2020))
# Read in school data
schools_dir <- get_education_data(level = 'schools',
source = 'ccd',
topic = 'directory',
filters = list(year = ccd_years[1]),
add_labels = TRUE)
# Cycle through all the years, saving csv files for each one
for (yr in ccd_years) {
print(yr)
}
library(educationdata)
# Create list of all years in ccd education directory
ccd_years <- as.character(seq(1986, 2020))
# Cycle through all years and save each directory as csv
for (yr in ccd_years) {
# Read in school data
schools_dir <- get_education_data(level = 'schools',
source = 'ccd',
topic = 'directory',
filters = list(year = yr),
add_labels = TRUE)
# Write csv
write.csv(
schools_dir,
paste0(
"./../../../../large_data/00-raw-data/UI/ccd_dirs/dir_",
yr,
".csv"
),
row.names = FALSE
)
}
# Create list of all years in ccd education directory
ccd_years <- as.character(seq(1986, 2020))
# Cycle through all years and save each directory as csv
for (yr in ccd_years) {
# Read in school data
schools_dir <- get_education_data(level = 'schools',
source = 'ccd',
topic = 'directory',
filters = list(year = yr),
add_labels = TRUE)
# Write csv
write.csv(schools_dir,
paste0(
"./../../../../large_data/00-raw-data/UI/ccd_dirs/dir_",
yr,
".csv"
),
row.names = FALSE)
}
library(educationdata)
# Cycle through all years and save each directory as csv
for (yr in ccd_years) {
# Read in school data
schools_dir <- get_education_data(level = 'schools',
source = 'ccd',
topic = 'directory',
filters = list(year = yr),
add_labels = TRUE)
# Write csv
write.csv(schools_dir,
paste0(
"./../../../../large_data/00-raw-data/UI/ccd_dirs/dir_",
yr,
".csv"
),
row.names = FALSE)
}
getwd()
# Cycle through all years and save each directory as csv
for (yr in ccd_years) {
# Read in school data
schools_dir <- get_education_data(level = 'schools',
source = 'ccd',
topic = 'directory',
filters = list(year = yr),
add_labels = TRUE)
# Write csv
write.csv(schools_dir,
paste0(
"./../../../../../large_data/00-raw-data/UI/ccd_dirs/dir_",
yr,
".csv"
),
row.names = FALSE)
}
# Read in school enrollment data
schools_enrollment <- get_education_data(level = 'schools',
source = 'ccd',
topic = 'enrollment',
subtopic = list('race'),
filters = list(year = 2020)
add_labels = TRUE)
# Read in school enrollment data
schools_enrollment <- get_education_data(level = 'schools',
source = 'ccd',
topic = 'enrollment',
subtopic = list('race'),
filters = list(year = 2020),
add_labels = TRUE)
length(unique(schools_dir$ncessch))
# Cycle through all years and save each directory as csv
for (yr in ccd_years) {
# Read in school data
schools_dir <- get_education_data(level = 'schools',
source = 'ccd',
topic = 'directory',
filters = list(year = yr),
add_labels = TRUE)
# Write csv
write.csv(schools_dir,
paste0(
"./../../../../../large_data/00-raw-data/UI/ccd_dirs/dir_",
yr,
".csv"
),
row.names = FALSE)
}
gc()
gc()
